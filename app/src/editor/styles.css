@reference "#tailwind-main";

.cm-editor {
  @apply bg-background-1 text-foreground h-full w-full;

  .cm-scroller {
    @apply scrollbar-border overflow-auto font-mono;
  }

  .cm-activeLine {
    @apply bg-background-2/50;
  }

  &:not(.cm-focused) .cm-activeLine {
    @apply bg-transparent;
  }

  .cm-content {
    @apply caret-white;
  }

  &.cm-focused {
    @apply !outline-hidden;
  }

  &.cm-focused .cm-cursor {
    @apply border-l-stone-950 dark:border-l-stone-50;
  }

  &.cm-focused .cm-selectionBackground,
  ::selection {
    @apply !bg-background-2;
  }

  &:not(.cm-focused) .cm-selectionBackground {
    @apply bg-background-2/50;
  }

  .cm-gutters {
    @apply bg-background-1 border-none;
  }

  .cm-gutterElement {
    @apply !px-2 font-thin text-stone-600 dark:text-stone-400;
  }

  .cm-activeLineGutter {
    @apply border-none bg-stone-500/50 font-normal text-stone-800 dark:text-stone-200;
  }

  &:not(.cm-focused) .cm-activeLineGutter {
    @apply bg-background-1 text-stone-600 dark:text-stone-400;
  }

  .cm-tooltip {
    @apply scrollbar-border border-border bg-background-0 text-foreground max-w-sm overflow-y-auto rounded-lg border font-sans font-light leading-tight shadow-sm;
  }

  .cm-diagnostic-error {
    @apply border-destructive border-l-4;
  }

  .cm-lintRange-error {
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="6" height="3"><path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="%23ef4444" fill="none" stroke-width=".7"/></svg>');
  }

  .cm-lintPoint-error:after {
    @apply border-b-destructive;
  }

  .cm-panels {
    @apply border-none;
  }
}
